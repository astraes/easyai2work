"use strict";const e=require("../../common/vendor.js"),n=require("../../composables/useCommon.js"),o=require("../../utils/common.js"),t=require("../../utils/emitter.js"),a=require("../../types/event.types.js");Math||i();const i=()=>"../../node-modules/@tuniao/tnui-vue3-uniapp/components/icon/src/icon.js",u=e.defineComponent({__name:"UserMemberInfo",setup(i){const u=e.ref(),r=async()=>{if(!n.isLogin.value)return;const e=await n.getUserVipInfo();e&&(u.value=e)};r(),e.watch(n.isLogin,(()=>{n.isLogin.value&&r()}));const s=e.computed((()=>{var e,t;return n.isLogin.value?{vipName:null==(e=u.value)?void 0:e.org_id.name,expire_date:o.formatDateTime(new Date(null==(t=u.value)?void 0:t.expire_date),"YYYY-MM-DD")}:null}));return e.onLoad((()=>{t.on(a.EventType.PAY_SUCCESS,(()=>{r()}))})),e.onUnload((()=>{t.off(a.EventType.PAY_SUCCESS)})),(n,o)=>{var t,a;return e.e({a:u.value},u.value?{b:e.p({name:"vip-diamond"}),c:e.t(null==(t=s.value)?void 0:t.vipName)}:{},{d:u.value},u.value?{e:e.t(null==(a=s.value)?void 0:a.expire_date)}:{})}}}),r=e._export_sfc(u,[["__scopeId","data-v-079242f1"]]);wx.createComponent(r);
