"use strict";const e=require("../../common/vendor.js"),o=require("../../utils/request.js");Math||(l+a+t)();const a=()=>"../../node-modules/@tuniao/tnui-vue3-uniapp/components/image-upload/src/image-upload.js",l=()=>"../common/MyTitle.js",t=()=>"../common/ParamCard.js",s=e.defineComponent({__name:"ImageUpload",props:e.mergeModels({title:{default:"上传"},options:{}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(a){const l=e.useModel(a,"modelValue"),t=e.ref([]);e.onReady((()=>{t.value=l.value?[l.value]:[]})),e.watch(t,(()=>{console.log("imageList",t);for(const e of t.value)l.value=e;l.value=t.value[0]}));const s=async e=>{const a=e.path;return new Promise((async(e,l)=>{const t=await o.uploadFile(a);console.log("uploadResult",t),t&&e(t)}))},u=e.ref();return(o,a)=>({a:e.p({title:o.title}),b:e.sr(u,"02c19669-2,02c19669-0",{k:"imageUploadRef"}),c:e.o((e=>t.value=e)),d:e.p({limit:1,"custom-upload-handler":s,modelValue:t.value})})}}),u=e._export_sfc(s,[["__scopeId","data-v-02c19669"]]);wx.createComponent(u);
