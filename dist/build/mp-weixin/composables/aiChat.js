"use strict";const e=require("../common/vendor.js");exports.ChatAPiUrl=()=>"https://chatapi.scschool.cc/v1/chat/completions",exports.getModelList=o=>{const s=o;return new Promise(((o,t)=>{const r=e.index.request({url:"https://scschool.cc/api/oneapi/channel",method:"GET",header:{Authorization:"Bearer "+s,Host:"scschool.cc"},enableChunked:!1,success:e=>{o(e)},fail:e=>{t(e),console.log("请求失败",e)}});console.log("requestTask",r)}))},exports.getUserInfo=o=>{const s=o.refresh_token;return new Promise(((t,r)=>{const n=e.index.request({url:"https://scschool.cc/api/oneapi/user",method:"POST",header:{Authorization:"Bearer "+s},data:o,enableChunked:!1,success:e=>{t(e)},fail:e=>{r(e),console.log("请求失败",e)}});console.log("requestTask",n)}))},exports.getUserKey=(o,s)=>{const t={user_id:o.id,status:o.status,remain_quota:o.quota,unlimited_quota:!1},r=s;return new Promise(((o,s)=>{const n=e.index.request({url:"https://scschool.cc/api/oneapi/token",method:"POST",header:{Authorization:"Bearer "+r},data:t,enableChunked:!1,success:e=>{o(e)},fail:e=>{s(e),console.log("请求失败",e)}});console.log("requestTask",n)}))},exports.getUserToken=()=>{const o=e.index.getStorageSync("refreshToken");return console.log("refreshToken获取成功",o),new Promise(((s,t)=>{const r=e.index.request({url:"https://scschool.cc/api/auth/refreshTokens",method:"POST",data:{refreshToken:o},enableChunked:!1,success:e=>{s(e)},fail:e=>{t(e),console.log("请求失败",e)}});console.log("requestTask",r)}))};
